 (cd "$(git rev-parse --show-toplevel)" && git apply --3way <<'EOF' 
diff --git a/timer/index.html b/timer/index.html
index bbebe645d19ca94f8a75544b06c6dfb5501f6273..6bd3a9efa2545f6f153c042ba9d7eb46b6cf2a44 100644
--- a/timer/index.html
+++ b/timer/index.html
@@ -41,50 +41,51 @@
       font-weight:800;cursor:pointer
     }
     button.primary{background:linear-gradient(90deg,var(--accent),var(--accent2));color:#06222a}
     button.danger{background:linear-gradient(90deg,var(--danger),#ff9aa6);color:#2a0206}
     button:active{transform:translateY(1px)}
     input,select{
       background:rgba(0,0,0,.18);
       border:1px solid rgba(255,255,255,.14);
       color:var(--text);
       border-radius:12px;
       padding:10px 12px;
       font-weight:800;
       outline:none;
     }
     input[type="number"]{width:98px;text-align:center}
     .small{font-size:12px;color:var(--muted)}
     .list{display:flex;flex-direction:column;gap:8px;max-height:430px;overflow:auto;padding-right:6px}
     .item{display:flex;gap:8px;align-items:center;background:rgba(255,255,255,.06);
       border:1px solid rgba(255,255,255,.10);border-radius:14px;padding:10px}
     .item input[type="text"]{flex:1;min-width:150px;background:transparent;border:0;padding:0}
     .item .mini{width:86px}
     .btnmini{padding:8px 10px;border-radius:10px;font-weight:900}
     .hr{height:1px;background:rgba(255,255,255,.12);margin:14px 0}
     .toggle label{display:flex;gap:8px;align-items:center;font-size:13px;color:var(--muted)}
     .kbd{font-family:ui-monospace,SFMono-Regular,Menlo,monospace;font-size:12px;color:var(--muted)}
+    .json-box{width:100%;min-height:120px;resize:vertical;font-family:ui-monospace,SFMono-Regular,Menlo,monospace;font-size:12px;line-height:1.4}
     @media (max-width:950px){.wrap{grid-template-columns:1fr}}
   </style>
 </head>
 <body>
   <div class="wrap">
     <!-- TIMER -->
     <div class="card">
       <div class="row" style="justify-content:space-between">
         <div>
           <h1>Timer</h1>
           <div class="muted">Simple interval timer + CO₂ builder. Sound is unlocked when you press Start or Test sound.</div>
         </div>
         <span class="pill" id="statusPill">READY</span>
       </div>
 
       <div class="space"></div>
 
       <div class="time" id="timeDisplay">00:00</div>
       <div class="muted" id="currentLabel">—</div>
 
       <div class="space"></div>
 
       <div class="row">
         <button class="primary" id="startPauseBtn">Start</button>
         <button id="nextBtn">Next</button>
@@ -102,50 +103,57 @@
         </div>
       </div>
 
       <div class="space"></div>
 
       <div class="row">
         <div>
           <div class="small">Rounds</div>
           <input type="number" id="rounds" min="1" value="1" />
         </div>
         <div>
           <div class="small">Countdown beeps</div>
           <input type="number" id="countdownBeeps" min="0" value="3" />
         </div>
       </div>
 
       <div class="hr"></div>
 
       <div class="row">
         <button id="saveBtn">Save</button>
         <button id="exportBtn">Export JSON</button>
         <button id="importBtn">Import JSON</button>
         <input id="fileInput" type="file" accept=".json,application/json" style="display:none;">
       </div>
 
+      <div class="space"></div>
+      <div class="small">Paste JSON</div>
+      <textarea id="jsonInput" class="json-box" placeholder='{"rounds":1,"intervals":[{"name":"Warmup","sec":60},{"name":"Work","sec":30}]}'></textarea>
+      <div class="row">
+        <button id="importTextBtn">Import from text</button>
+      </div>
+
       <div class="space"></div>
       <div class="small">Saved workouts</div>
       <div class="list" id="savedList"></div>
     </div>
 
     <!-- BUILDER + EDITOR -->
     <div class="card">
       <div class="row" style="justify-content:space-between">
         <div>
           <h1>Intervals</h1>
           <div class="muted">Edit list directly, or generate with CO₂ builder.</div>
         </div>
         <div class="kbd">/timer/</div>
       </div>
 
       <div class="space"></div>
 
       <div class="row">
         <button id="addRowBtn">Add interval</button>
         <button id="clearBtn">Clear</button>
         <button id="buildCO2Btn">Build CO₂</button>
         <button id="loadTabataBtn">Load Tabata</button>
       </div>
 
       <div class="space"></div>
@@ -202,50 +210,52 @@
   const testSoundBtn = document.getElementById("testSoundBtn");
 
   const roundsEl = document.getElementById("rounds");
   const autoAdvanceEl = document.getElementById("autoAdvance");
   const soundOnEl = document.getElementById("soundOn");
   const vibrateOnEl = document.getElementById("vibrateOn");
   const countdownBeepsEl = document.getElementById("countdownBeeps");
 
   const intervalListEl = document.getElementById("intervalList");
   const addRowBtn = document.getElementById("addRowBtn");
   const clearBtn = document.getElementById("clearBtn");
   const buildCO2Btn = document.getElementById("buildCO2Btn");
   const loadTabataBtn = document.getElementById("loadTabataBtn");
 
   const co2HoldMinEl = document.getElementById("co2HoldMin");
   const co2HoldMaxEl = document.getElementById("co2HoldMax");
   const co2TotalMinEl = document.getElementById("co2TotalMin");
   const co2RecoveryEl = document.getElementById("co2Recovery");
   const co2WarmupEl = document.getElementById("co2Warmup");
   const co2HoldTypeEl = document.getElementById("co2HoldType");
 
   const saveBtn = document.getElementById("saveBtn");
   const exportBtn = document.getElementById("exportBtn");
   const importBtn = document.getElementById("importBtn");
   const fileInput = document.getElementById("fileInput");
+  const jsonInput = document.getElementById("jsonInput");
+  const importTextBtn = document.getElementById("importTextBtn");
   const savedListEl = document.getElementById("savedList");
 
   // State
   let intervals = [];
   let currentIndex = 0;
   let currentRound = 1;
   let remaining = 0;
   let running = false;
   let timerId = null;
 
   const LS_SAVED = "adam.timer.saved.v3";
   const LS_EDITOR = "adam.timer.editor.v3";
 
   // Utils
   const pad2 = (n) => String(n).padStart(2,"0");
   const mmss = (sec) => {
     sec = Math.max(0, Math.floor(sec));
     const m = Math.floor(sec / 60);
     const s = sec % 60;
     return `${pad2(m)}:${pad2(s)}`;
   };
   const clampInt = (v, lo, hi) => {
     let n = parseInt(v || "0", 10);
     if (Number.isNaN(n)) n = lo;
     return Math.max(lo, Math.min(hi, n));
@@ -577,106 +587,122 @@
   function loadEditor(){
     try{
       const s = JSON.parse(localStorage.getItem(LS_EDITOR) || "null");
       if (s && Array.isArray(s.intervals) && s.intervals.length){
         intervals = s.intervals.map(x => ({ name: x.name, sec: Number(x.sec)||30 }));
         roundsEl.value = s.rounds || 1;
         return true;
       }
     }catch(e){}
     return false;
   }
 
   // JSON import/export
   function exportJSON(){
     const payload = { name: "Workout", rounds: getRounds(), intervals };
     const blob = new Blob([JSON.stringify(payload, null, 2)], {type:"application/json"});
     const url = URL.createObjectURL(blob);
     const a = document.createElement("a");
     a.href = url;
     a.download = `workout-${Date.now()}.json`;
     document.body.appendChild(a);
     a.click();
     a.remove();
     URL.revokeObjectURL(url);
   }
+  function parseJSONText(text){
+    const obj = JSON.parse(text);
+    const arr = obj.intervals || obj.exercises || obj;
+    if (!Array.isArray(arr)) throw new Error("No intervals array found");
+    intervals = arr.map(x => ({
+      name: x.name || "Interval",
+      sec: Number(x.sec ?? x.duration ?? x.durationSeconds ?? 30)
+    }));
+    roundsEl.value = obj.rounds || 1;
+    renderIntervals(); resetAll(); saveEditor();
+  }
   function importJSONFile(file){
     const reader = new FileReader();
     reader.onload = () => {
       try{
-        const obj = JSON.parse(reader.result);
-        const arr = obj.intervals || obj.exercises || obj;
-        if (!Array.isArray(arr)) throw new Error("No intervals array found");
-        intervals = arr.map(x => ({
-          name: x.name || "Interval",
-          sec: Number(x.sec ?? x.duration ?? x.durationSeconds ?? 30)
-        }));
-        roundsEl.value = obj.rounds || 1;
-        renderIntervals(); resetAll(); saveEditor();
+        parseJSONText(reader.result);
       }catch(e){
         alert("Import failed: " + e.message);
       }
     };
     reader.readAsText(file);
   }
 
   // Events
   startPauseBtn.addEventListener("click", () => running ? pause() : start());
   nextBtn.addEventListener("click", () => {
     ensureAudio();
     if (!intervals.length) return;
     if (!running) setStatus("READY");
     nextInterval();
     if (!running) timeDisplay.textContent = mmss(remaining);
   });
   resetBtn.addEventListener("click", () => {
     ensureAudio();
     if (!confirm("Reset timer?")) return;
     resetAll();
   });
   testSoundBtn.addEventListener("click", () => {
     ensureAudio();
     beep(880, 200);
     setTimeout(()=>beep(660, 200), 240);
   });
 
   addRowBtn.addEventListener("click", () => addInterval());
   clearBtn.addEventListener("click", clearIntervals);
   buildCO2Btn.addEventListener("click", buildCO2Workout);
   loadTabataBtn.addEventListener("click", loadTabata);
 
   roundsEl.addEventListener("input", () => {
     roundsEl.value = Math.max(1, parseInt(roundsEl.value || "1", 10));
     setLabel();
     saveEditor();
   });
 
   saveBtn.addEventListener("click", () => {
     const name = prompt("Workout name:", "My workout");
     if (!name) return;
     const list = loadSaved();
     list.push({ name, rounds: getRounds(), intervals });
     saveSaved(list);
     renderSavedList();
   });
 
   exportBtn.addEventListener("click", exportJSON);
   importBtn.addEventListener("click", () => fileInput.click());
+  importTextBtn.addEventListener("click", () => {
+    const text = jsonInput.value.trim();
+    if (!text){
+      alert("Paste JSON first.");
+      return;
+    }
+    try{
+      parseJSONText(text);
+      jsonInput.value = "";
+    }catch(e){
+      alert("Import failed: " + e.message);
+    }
+  });
   fileInput.addEventListener("change", (e) => {
     const f = e.target.files && e.target.files[0];
     if (!f) return;
     importJSONFile(f);
     fileInput.value = "";
   });
 
   // Init
   const loaded = loadEditor();
   if (!loaded){
     buildCO2Workout();
   } else {
     renderIntervals(); resetAll();
   }
   renderSavedList();
 })();
 </script>
 </body>
 </html>
 
EOF
)
